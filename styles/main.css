/* ===== è¦‹ãŸç›®ã®åŸºæº–å€¤ï¼ˆæµä½“ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰ ===== */
:root{
  /* ç”»é¢å¹…ã«å¿œã˜ã¦è‡ªå‹•ã§ç¸®ã‚€ï¼åºƒãŒã‚‹ */
  --space:   clamp(12px, 3.5vw, 20px);  /* ä½™ç™½ */
  --gap:     clamp(8px,  2.6vw, 16px);  /* ã™ãé–“ */
  --card-w:  clamp(68px, 21vw, 110px);  /* ã‚«ãƒ¼ãƒ‰å¹… */
  --card-h:  clamp(96px, 29vw, 150px);  /* ã‚«ãƒ¼ãƒ‰é«˜ */
  --btn-h:   44px;                      /* ãƒœã‚¿ãƒ³é«˜ */
  --font-base: 16px;                    /* ãƒ™ãƒ¼ã‚¹æ–‡å­— */
  --digit-scale: .68;                   /* 7ã‚»ã‚°ã®ç›¸å¯¾ã‚µã‚¤ã‚ºï¼ˆä¸‹ã§ãƒ¡ãƒ‡ã‚£ã‚¢åˆ¥ã«å¾®èª¿æ•´ï¼‰ */
}
/* ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆä»¥ä¸Šã¯å°‘ã—ã‚†ã£ãŸã‚Š */
@media (min-width: 720px){
  :root{
    --space: 20px;
    --gap: 20px;
    --card-w: 128px;
    --card-h: 180px;
    --btn-h: 48px;
    --font-base: 18px;
    --digit-scale: .70;
  }
}

@font-face{
  font-family: 'DSEG7Modern';
  src: url('../assets/fonts/DSEG7Modern-Bold.woff2') format('woff2');
  font-style: normal;
  font-weight: 700;
  font-display: swap;
}

*{box-sizing:border-box}
html,body{
  height:100%;
  /* ä¸‡ä¸€ã®æ¨ªã¯ã¿å‡ºã—ã‚’æŠ‘æ­¢ï¼ˆä¿é™ºï¼‰ */
  overflow-x: hidden;
}
body{
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", sans-serif;
  font-size: var(--font-base);
  background:#f6f7fb;
  margin:0;
  color:#222;
}

header{
  position: sticky;
  top:0;
  background:#fff;
  border-bottom:1px solid #e5e7eb;
  padding: calc(var(--space) * .75) var(--space);
  text-align:center;
  z-index:10;
}
header h1{margin:0;font-size: clamp(20px, 3.2vw, 32px); letter-spacing:.5px;}
header .highlight{ color:#ef4444; }

.wrapper{
  max-width: 880px;
  margin: 0 auto;
  padding: var(--space);
  display: grid;
  gap: var(--gap);
  width: 100%;
}

/* å…±é€šã‚«ãƒ¼ãƒ‰é¢¨ã‚³ãƒ³ãƒ†ãƒŠ */
.card{
  background:#fff;
  border:1px solid #e5e7eb;
  border-radius:12px;
  padding: var(--space);
  box-shadow:0 1px 2px rgba(0,0,0,.04);
}
.hidden{ display:none !important; }

.box{ margin-bottom: var(--space); }
input,select,button{
  font-size: 1rem;
  height: var(--btn-h);
  padding: 0 12px;
  border-radius:10px;
  border:1px solid #d1d5db;
  background:#fff;
}
button{
  background:#111827;
  color:#fff;
  border:none;
  cursor:pointer;
}
button:disabled{ opacity:.5; cursor:not-allowed; }
.btn{ height: var(--btn-h); padding:0 16px; }

#setupSection.card,
#gameSection.card { display:block; }

/* â”€â”€ ã‚¹ã‚³ã‚¢è¡Œ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.score-info{
  display:flex;
  align-items:center;
  gap: var(--gap);
  flex-wrap: wrap;
  margin-bottom: var(--space);
}
.score-info .highlight-target{ color:#ef4444; font-weight:700; }
.score-info .score-value{ font-weight:700; }

/* â˜… 8äººå¯¾å¿œï¼šã‚¹ã‚³ã‚¢ã‚’ã‚°ãƒªãƒƒãƒ‰ã§æ•´åˆ— */
.player-scores{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 8px;
  margin-bottom: var(--space);
}
.player-scores > div{
  background:#f9fafb;
  border:1px solid #e5e7eb;
  border-radius:10px;
  padding: 6px 10px;
}

/* æ¤œç´¢è¡Œ */
.search-area{
  display:flex;
  gap: var(--gap);
  align-items:center;
  flex-wrap: nowrap;
}
.search-area input{
  flex: 1 1 auto;
  min-width: 0;              /* â† ã¯ã¿å‡ºã—é˜²æ­¢ï¼ˆ180px ã‹ã‚‰å¤‰æ›´ï¼‰ */
}
.search-area button{
  flex: 0 0 auto;
  padding:0 14px;
}

/* æ¡ã‚«ãƒ¼ãƒ‰ç¾¤ */
.digits{
  display:flex;
  justify-content:center;
  gap: var(--gap);
  padding-top: var(--space);
}
.digit-box{
  width: var(--card-w);
  height: var(--card-h);
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:14px;
  border:2px solid #111827;
  background:#fff;
  box-shadow: 0 6px 14px rgba(0,0,0,.06);
  user-select:none;
}

/* è¦†ã„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
.digit-box{ position: relative; overflow: hidden; }
.digit-box .digit-value{
  position: relative; z-index: 1;
  font-family: 'DSEG7Modern', system-ui, sans-serif;
  line-height: .86;
  letter-spacing: .01em;
  transform: translateY(1px);
}
.digit-box .digit-cover{
  position: absolute; inset: 0;
  background: #0b0f19;
  border-radius: inherit;
  transform: translateY(100%);      /* åˆæœŸã¯éè¡¨ç¤ºï¼ˆä¸‹ã«é€€é¿ï¼‰ */
  transition: transform 700ms cubic-bezier(.22,.61,.36,1);
  pointer-events: none;
  z-index: 2;
  will-change: transform;
}
@media (prefers-reduced-motion: reduce){
  .digit-box .digit-cover{ transition: none; }
}
.digit-box.covered .digit-cover{ transform: translateY(0%); }    /* é»’å¡—ã‚ŠON */
.digit-box.opened  .digit-cover{ transform: translateY(100%); }  /* ä¸‹ã¸ã‚¹ãƒ©ã‚¤ãƒ‰ã—ã¦é–‹ã */

/* æ•°å­—ã‚µã‚¤ã‚ºã‚’ã‚«ãƒ¼ãƒ‰é«˜ã«æ¯”ä¾‹ã•ã›ã‚‹ï¼ˆå®‰å®šï¼‰ */
.digits .digit-box{ font-size: calc(var(--card-h) * var(--digit-scale)); }

/* æ¤œç´¢ç›´å¾Œã ã‘ã‚¢ãƒ‹ãƒ¡ç„¡åŠ¹åŒ–ã™ã‚‹ãŸã‚ã®ã‚¯ãƒ©ã‚¹ */
.digit-box.no-anim .digit-cover{ transition: none !important; }

/* ãƒœã‚¿ãƒ³è¡Œ */
.digit-buttons{
  display:flex;
  justify-content:center;
  gap: calc(var(--gap) * 1.25);
  margin-top: calc(var(--space) * .5);
  flex-wrap: wrap;
}
.digit-buttons button{
  width: 64px; height: 64px;
  border-radius: 50%;
  font-size: 0.95rem;
  background:#374151;
}
.digit-buttons button:disabled{ background:#9ca3af; }

/* æ“ä½œãƒœã‚¿ãƒ³è¡Œ */
.controls{
  display:flex;
  gap: var(--gap);
  justify-content: center;
  flex-wrap: wrap;
}
.controls button{
  min-width: clamp(120px, 32vw, 180px);  /* â† ç”»é¢ã«å¿œã˜ã¦ç¸®ã‚€ */
  height: var(--btn-h);
  border-radius: 10px;
  background:#111827;
}
.controls #restartButton{ background:#065f46; }   /* ç·‘ */
.controls #showResultsButton{ background:#1f2937; } /* æ¿ƒã‚°ãƒ¬ãƒ¼ */
.controls #nextPlayerButton{ background:#4b5563; }   /* ã‚°ãƒ¬ãƒ¼ */

/* ãƒªã‚¶ãƒ«ãƒˆï¼ä½¿ç”¨ãƒ¯ãƒ¼ãƒ‰ */
.result-message{
  text-align:center;
  font-weight:700;
  padding: 10px 12px;
}
.result-message.game-over{ color:#1d4ed8; }
.result-message.game-over.over-score{ color:#dc2626; }

.result-list, .used-words{
  margin-top: var(--space);
  background:#fff;
  border:1px solid #e5e7eb;
  border-radius:12px;
  padding: var(--space);
}
.result-list ul, .used-words ul{ margin:0; padding-left: 20px; }

/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚«ãƒ¼ãƒ‰åŒ–ï¼ˆæ—¢å­˜ã®æ§‹é€ ã‚’å£Šã•ãšã‚«ãƒ¼ãƒ‰åŒ–ï¼‰ */
#setupSection,
#gameSection{
  background:#fff;
  border:1px solid #e5e7eb;
  border-radius:12px;
  padding: calc(var(--space) * 1.25);
  box-shadow:0 1px 2px rgba(0,0,0,.04);
}

/* ã‚¹ãƒãƒ›æœ€é©åŒ–ã®ç´°ã‹ã„è£œæ­£ */
@media (max-width: 480px){
  .controls button{ min-width: 100%; }
  .digit-buttons{ gap: var(--gap); }
  .search-area{ gap: 10px; }
  :root{ --digit-scale: .64; }   /* 7ã‚»ã‚°ã‚’å°‘ã—æŠ‘ãˆã‚‹ */
}

/* ãƒ•ã‚£ãƒ«ã‚¿ãƒãƒƒãƒ— */
.filter-chips{
  display:flex; gap:8px; align-items:center;
  margin-top:10px; flex-wrap:wrap;
}
.chip{
  display:inline-flex; align-items:center; gap:6px;
  padding:6px 10px; border-radius:999px;
  font-size:.9rem; background:#eef2ff; color:#1e40af;
  border:1px solid #c7d2fe;
}
.chip.and{ background:#ecfeff; color:#155e75; border-color:#a5f3fc; }
.chip.lock::before{ content:'ğŸ”’'; }
.chip.and::before{ content:'AND'; font-weight:700; font-size:.8rem; }
